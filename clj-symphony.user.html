<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>clj-symphony.user documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Clj-symphony</span> <span class="project-version">0.2.0-SNAPSHOT</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clj-symphony</span></div></div></li><li class="depth-2 branch"><a href="clj-symphony.chat.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>chat</span></div></a></li><li class="depth-2 branch"><a href="clj-symphony.connect.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>connect</span></div></a></li><li class="depth-2 branch"><a href="clj-symphony.message.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>message</span></div></a></li><li class="depth-2 branch"><a href="clj-symphony.room.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>room</span></div></a></li><li class="depth-2 branch"><a href="clj-symphony.stream.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>stream</span></div></a></li><li class="depth-2 branch current"><a href="clj-symphony.user.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>user</span></div></a></li><li class="depth-2"><a href="clj-symphony.user-connection.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>user-connection</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="clj-symphony.user.html#var-cross-pod.3F"><div class="inner"><span>cross-pod?</span></div></a></li><li class="depth-1"><a href="clj-symphony.user.html#var-presence"><div class="inner"><span>presence</span></div></a></li><li class="depth-1"><a href="clj-symphony.user.html#var-presence-states"><div class="inner"><span>presence-states</span></div></a></li><li class="depth-1"><a href="clj-symphony.user.html#var-same-pod.3F"><div class="inner"><span>same-pod?</span></div></a></li><li class="depth-1"><a href="clj-symphony.user.html#var-set-presence.21"><div class="inner"><span>set-presence!</span></div></a></li><li class="depth-1"><a href="clj-symphony.user.html#var-update-user.21"><div class="inner"><span>update-user!</span></div></a></li><li class="depth-1"><a href="clj-symphony.user.html#var-user"><div class="inner"><span>user</span></div></a></li><li class="depth-1"><a href="clj-symphony.user.html#var-user-by-username"><div class="inner"><span>user-by-username</span></div></a></li><li class="depth-1"><a href="clj-symphony.user.html#var-user-id"><div class="inner"><span>user-id</span></div></a></li><li class="depth-1"><a href="clj-symphony.user.html#var-userobj"><div class="inner"><span>userobj</span></div></a></li><li class="depth-1"><a href="clj-symphony.user.html#var-userobj-.3Emap"><div class="inner"><span>userobj-&gt;map</span></div></a></li><li class="depth-1"><a href="clj-symphony.user.html#var-userobj-by-username"><div class="inner"><span>userobj-by-username</span></div></a></li><li class="depth-1"><a href="clj-symphony.user.html#var-userobjs"><div class="inner"><span>userobjs</span></div></a></li><li class="depth-1"><a href="clj-symphony.user.html#var-users"><div class="inner"><span>users</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">clj-symphony.user</h1><div class="doc"><pre class="plaintext">Operations related to users.  A user can be either a human or a service account (bot).
</pre></div><div class="public anchor" id="var-cross-pod.3F"><h3>cross-pod?</h3><div class="usage"><code>(cross-pod? connection user-identifier)</code></div><div class="doc"><pre class="plaintext">Returns true if the given user is in a different pod to the authenticated connection user, or nil if the user doesn't exist.
</pre></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/user.clj#L199">view source</a></div></div><div class="public anchor" id="var-presence"><h3>presence</h3><h4 class="type">multimethod</h4><div class="usage"><code>(presence connection)</code><code>(presence connection user-identifier)</code></div><div class="doc"><pre class="plaintext">Returns the presence status of a single user, as a keyword.  If no user identifier is provided, returns the presence status of the authenticated connection user.
</pre></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/user.clj#L221">view source</a></div></div><div class="public anchor" id="var-presence-states"><h3>presence-states</h3><div class="usage"></div><div class="doc"><pre class="plaintext">The set of possible presence states in Symphony, as keywords.
</pre></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/user.clj#L207">view source</a></div></div><div class="public anchor" id="var-same-pod.3F"><h3>same-pod?</h3><div class="usage"><code>(same-pod? connection user-identifier)</code></div><div class="doc"><pre class="plaintext">Returns true if the given user is in the same pod as the authenticated connection user, or nil if the user doesn't exist.
</pre></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/user.clj#L191">view source</a></div></div><div class="public anchor" id="var-set-presence.21"><h3>set-presence!</h3><h4 class="type">multimethod</h4><div class="usage"><code>(set-presence! connection new-presence)</code><code>(set-presence! connection user-identifier new-presence)</code></div><div class="doc"><pre class="plaintext">Sets the presence status of the given user, or the authenticated connection user if not provided.  new-presence must be one of presence-states.
</pre></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/user.clj#L255">view source</a></div></div><div class="public anchor" id="var-update-user.21"><h3>update-user!</h3><div class="usage"><code>(update-user! connection user-details)</code></div><div class="doc"><pre class="plaintext">Updates the details of an existing user, returning it as a map. user-details is a map with these keys:
  :user-id       The id of the user to update.
  :username      The new username of the user.  #### This might be create-only?
  :email-address The new email address of the user.
  :title         The new title of the user.
  :first-name    The new first name of the user.
  :last-name     The new last name of the user.
  :display-name  The new display name of the user.
  :company       The new company of the user.  #### This might be read-only?
  :location      The new location of the user.
  :avatars       A sequence of avatar maps, each of which contains these keys:
    :size        The 'size string' of the avatar (e.g. 'small', 'original')
    :url         The URL of the new avatar image file.
Note: calling this method requires the user administration entitlement.</pre></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/user.clj#L171">view source</a></div></div><div class="public anchor" id="var-user"><h3>user</h3><div class="usage"><code>(user connection)</code><code>(user connection user-identifier)</code></div><div class="doc"><pre class="plaintext">Returns a user for the given user identifier, or the authenticated connection user if a user id is not provided.
</pre></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/user.clj#L118">view source</a></div></div><div class="public anchor" id="var-user-by-username"><h3>user-by-username</h3><div class="usage"><code>(user-by-username connection username)</code></div><div class="doc"><pre class="plaintext">Returns a user for the given username, or nil if the user doesn't exist.
</pre></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/user.clj#L130">view source</a></div></div><div class="public anchor" id="var-user-id"><h3>user-id</h3><h4 class="type">multimethod</h4><div class="usage"><code>(user-id user)</code></div><div class="doc"><pre class="plaintext">Returns the id (a Long) of the given user.
</pre></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/user.clj#L42">view source</a></div></div><div class="public anchor" id="var-userobj"><h3>userobj</h3><h4 class="type">multimethod</h4><div class="usage"><code>(userobj connection)</code><code>(userobj connection user)</code></div><div class="doc"><pre class="plaintext">Returns a org.symphonyoss.symphony.clients.model.SymUser object for the given user identifier, or the authenticated connection user if a user id is not provided. User can be specified either as a user id (Long) or an email address (String). Returns nil if the user doesn't exist.

Note: providing a user identifier requires calls to the server.</pre></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/user.clj#L76">view source</a></div></div><div class="public anchor" id="var-userobj-.3Emap"><h3>userobj-&gt;map</h3><div class="usage"><code>(userobj-&gt;map user)</code></div><div class="doc"><pre class="plaintext">Converts a SymUser object into a map.
</pre></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/user.clj#L22">view source</a></div></div><div class="public anchor" id="var-userobj-by-username"><h3>userobj-by-username</h3><div class="usage"><code>(userobj-by-username connection username)</code></div><div class="doc"><pre class="plaintext">Returns a org.symphonyoss.symphony.clients.model.SymUser object for the given username, or nil if the user doesn't exist.
</pre></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/user.clj#L124">view source</a></div></div><div class="public anchor" id="var-userobjs"><h3>userobjs</h3><div class="usage"><code>(userobjs connection)</code></div><div class="doc"><pre class="plaintext">Returns all users in the pod, as org.symphonyoss.symphony.clients.model.SymUser objects.  Will throw an exception if the authenticated connection user doesn't have sufficient permissions.
</pre></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/user.clj#L64">view source</a></div></div><div class="public anchor" id="var-users"><h3>users</h3><div class="usage"><code>(users connection)</code></div><div class="doc"><pre class="plaintext">Returns all users in the pod.  Will throw an exception if the authenticated connection user doesn't have sufficient permissions.
</pre></div><div class="src-link"><a href="https://github.com/symphonyoss/clj-symphony/blob/master/src/clj_symphony/user.clj#L70">view source</a></div></div></div></body></html>